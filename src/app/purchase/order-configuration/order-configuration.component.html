<div class="purchase">
<div class="choosen-prodcuts">
  <h3>Wybrane produkty:</h3>
  <table class="table-container table table-striped table-bordered">
    <thead>
      <tr>
        <th>Typ produktu</th>
        <th>Ilość</th>
        <th>Usuń produkt</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let selectedProduct of purchaseService.purchase?.OrderProductsDto">
        <th>{{selectedProduct.product.productType}}</th>
        <th><input [(ngModel)]="selectedProduct.quantity"></th>
        <th (click)="selectedProduct.product.id !== undefined ? purchaseService.deleteProductFromOrder(selectedProduct.product.id) : null"><p class="clickable-item">Usuń</p></th>
      </tr>
    </tbody>
  </table>
</div>

  <!-- Formularz danych klienta -->
  <div>
    <h3>Wypełnij dane klienta:</h3>
    <form>
      <div class="form-group">
        <label for="firstName">Imię:</label>
        <input type="text" id="firstName" class="form-control" [(ngModel)]="customer.firstName" name="firstName" >
      </div>
      <div class="form-group">
        <label for="lastName">Nazwisko:</label>
        <input type="text" id="lastName" class="form-control" name="lastName" [(ngModel)]="customer.lastName">
      </div>
      <div class="form-group">
        <label for="taxNumber">NIP:</label>
        <input type="text" id="taxNumber" class="form-control" name="taxNumber" [(ngModel)]="customer.taxNumber">
      </div>
      <div class="form-group">
        <label for="phoneNumber">Numer telefonu:</label>
        <input type="text" id="phoneNumber" class="form-control" name="phoneNumber" [(ngModel)]="customer.phoneNumber">
      </div>
      <div class="form-group">
        <label for="email">Email:</label>
        <input type="email" id="email" class="form-control" name="email" [(ngModel)]="customer.email">
      </div>
    </form>
  </div>

  <!-- Formularz adresu klienta -->
  <div>
    <h3>Wypełnij adres klienta:</h3>
    <form>
      <div class="form-group">
        <label for="street">Ulica:</label>
        <input type="text" id="street" class="form-control" name="street" [(ngModel)]="address.street">
      </div>
      <div class="form-group">
        <label for="buildingNumber">Numer budynku:</label>
        <input type="text" id="buildingNumber" class="form-control" name="buildingNumber" [(ngModel)]="address.buildingNumber" [disabled]="address.apartmentNumber.length > 0">
      </div>
      <div class="form-group">
        <label for="apartmentNumber">Numer mieszkania:</label>
        <input type="text" id="apartmentNumber" class="form-control" name="apartmentNumber" [(ngModel)]="address.apartmentNumber" [disabled]="address.buildingNumber.length > 0">
      </div>
      <div class="form-group">
        <label for="postalCode">Kod pocztowy:</label>
        <input type="text" id="postalCode" class="form-control" name="postalCode" [(ngModel)]="address.postalCode" pattern="\d{2}-\d{3}">
      </div>
      <div class="form-group">
        <label for="city">Miasto:</label>
        <input type="text" id="city" class="form-control" name="city" [(ngModel)]="address.city">
      </div>
    </form>
  </div>

  <!-- Dodatkowe informacje -->
  <div class="additional-info">
    <h3>Dodatkowe informacje:</h3>
    <form>
      <div class="form-group">
        <label for="notes">Notatki:</label>
        <textarea id="notes" class="form-control" name="notes" [(ngModel)]="orderDetail.notes"></textarea>
      </div>
      <div class="form-group">
        <label for="paymentMethod">Metoda płatności:</label>
        <select id="paymentMethod" class="form-control" name="paymentMethod" [(ngModel)]="orderDetail.paymentMethod">
          <option value="">Wybierz metodę płatności</option>
          <option value="cash">Gotówka</option>
          <option value="card">Karta</option>
          <option value="bankTransfer">Przelew bankowy</option>
        </select>
      </div>
    </form>
  </div>
</div>

<button (click)="addPurchase()">Złóż zamówienie</button>
